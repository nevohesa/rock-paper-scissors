<html>

<head title="RPS Game by @nevohesa">

<body>
    <center>
        <br><br><br><br><br>
        <h1 style="font-size: 64px; color: crimson; text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.438);">RPS Game by
            @nevohesa</h1>
        <h2>for The Odin Project</h2>
    </center>
    <script>
        // let computerSelection = computerPlay(); // global scope var
        // let totalScore = 0; // for game function
        let playerScore = 0;
        let computerScore = 0;
        let errorCount = 0;

        const computerPlay = () => { // computer choice
            let compNum = Math.floor(1 + Math.random() * 3);
            if (compNum == 1) {
                return 'rock';
            } else if (compNum == 2) {
                return 'paper';
            } else if (compNum == 3) {
                return 'scissors';
            }
        }
        // const computerSelection = computerPlay();
        const playerSelection = () => prompt('Please choose - Rock, Paper or Scissors?').toLocaleLowerCase();



        function playRound(playerSelection, computerPlay) {


            if (playerSelection == 'rock' && computerPlay == 'scissors' || playerSelection == 'paper' && computerPlay == 'rock' || playerSelection == 'scissors' && computerPlay == 'paper') {
                alert(`You Win! ${playerSelection} beats ${computerPlay}.`); // Player wins
                return playerScore++;
            } else if (playerSelection == 'rock' && computerPlay == 'paper' || playerSelection == 'paper' && computerPlay == 'scissors' || playerSelection == 'scissors' && computerPlay == 'rock') {
                alert(`You Lose! ${computerPlay} beats ${playerSelection}.`); // Computer wins 
                return computerScore++;
            } else if (playerSelection == computerPlay) {
                alert('Draw.');
            } else {
                alert('ERROR!');
                return errorCount++;
            }
        }

        function game() {
            playRound(playerSelection(), computerPlay());
            playRound(playerSelection(), computerPlay());
            playRound(playerSelection(), computerPlay());
            playRound(playerSelection(), computerPlay());
            playRound(playerSelection(), computerPlay());
            alert('Player Score: ' + playerScore + '\nComputer Score: ' + computerScore);
            if (errorCount > 0) {
                alert('Game flawed, You have enterd one invalid value or more.');
                return;
            }
            if (playerScore > computerScore) {
                alert('Player Wins!')
            } else if (playerScore < computerScore) {
                alert('Computer Wins!');
            } else if (playerScore == computerScore) {
                alert(`It's a Draw!`);
            }

        }

        // Start Game

        game();

    </script>

</body>
</head>

</html>
